{"ast":null,"code":"import _defineProperty from \"/Users/computeruser/Desktop/dev/uubc/homework/BookSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/computeruser/Desktop/dev/uubc/homework/BookSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/computeruser/Desktop/dev/uubc/homework/BookSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/computeruser/Desktop/dev/uubc/homework/BookSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/computeruser/Desktop/dev/uubc/homework/BookSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/computeruser/Desktop/dev/uubc/homework/BookSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/computeruser/Desktop/dev/uubc/homework/BookSearch/client/src/pages/Books.js\";\nimport React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport DeleteBtn from \"../components/DeleteBtn\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\nimport axios from \"axios\";\n\nvar Books =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Books, _Component);\n\n  function Books() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Books);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Books)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: [],\n      title: null,\n      author: null,\n      synopsis: null\n    };\n\n    _this.handleChange = function (event) {\n      event.preventDefault();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value)); // console.log(event.target.value);\n      // console.log(event.target.name);\n      // console.log(this.state);\n\n    };\n\n    _this.handleAdd = function (event) {\n      event.preventDefault();\n      console.log(\"task\");\n      axios({\n        method: 'post',\n        url: '/api/books',\n        data: _this.state\n      }).then(function (response) {\n        console.log(response);\n      });\n    };\n\n    _this.handleDelete = function (event) {\n      var bookId = event.target.getAttribute('data-book-id');\n      event.preventDefault();\n      axios({\n        method: 'delete',\n        url: '/api/books/' + bookId\n      }).then(function (response) {\n        console.log(response);\n        loadBooks();\n      });\n    };\n\n    _this.loadBooks = function () {\n      API.getBooks().then(function (res) {\n        return _this.setState({\n          books: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Books, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadBooks();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"What Books Should I Read?\")), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Input, {\n        handlechange: this.handleChange,\n        name: \"title\",\n        placeholder: \"Title (required)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(Input, {\n        handlechange: this.handleChange,\n        name: \"author\",\n        placeholder: \"Author (required)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(TextArea, {\n        handlechange: this.handleChange,\n        name: \"synopsis\",\n        placeholder: \"Synopsis (Optional)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(FormBtn, {\n        handleclick: this.handleAdd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Submit Book\"))), React.createElement(Col, {\n        size: \"md-6 sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Books On My List\")), this.state.books.length ? React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.state.books.map(function (book) {\n        return React.createElement(ListItem, {\n          key: book._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"/books/\" + book._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, book.title, \" by \", book.author)), React.createElement(DeleteBtn, {\n          \"data-book-id\": book._id,\n          onClick: _this2.handleDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }));\n      })) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"No Results to Display\"))));\n    }\n  }]);\n\n  return Books;\n}(Component);\n\nexport default Books;","map":{"version":3,"sources":["/Users/computeruser/Desktop/dev/uubc/homework/BookSearch/client/src/pages/Books.js"],"names":["React","Component","Jumbotron","API","DeleteBtn","Col","Row","Container","List","ListItem","Input","TextArea","FormBtn","axios","Books","state","books","title","author","synopsis","handleChange","event","preventDefault","setState","target","name","value","handleAdd","console","log","method","url","data","then","response","handleDelete","bookId","getAttribute","loadBooks","getBooks","res","catch","err","length","map","book","_id"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,QAAoC,oBAApC;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,oBAA/B;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,OAA1B,QAAyC,oBAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,K;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,KAAK,EAAE,IAFD;AAGNC,MAAAA,MAAM,EAAE,IAHF;AAINC,MAAAA,QAAQ,EAAE;AAJJ,K;;UAWRC,Y,GAAe,UAAAC,KAAK,EAAI;AACtBA,MAAAA,KAAK,CAACC,cAAN;;AACA,YAAKC,QAAL,qBACGF,KAAK,CAACG,MAAN,CAAaC,IADhB,EACuBJ,KAAK,CAACG,MAAN,CAAaE,KADpC,GAFsB,CAKtB;AACA;AACA;;AACD,K;;UAEDC,S,GAAY,UAAAN,KAAK,EAAI;AACnBA,MAAAA,KAAK,CAACC,cAAN;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAhB,MAAAA,KAAK,CAAC;AACJiB,QAAAA,MAAM,EAAE,MADJ;AAEJC,QAAAA,GAAG,EAAE,YAFD;AAGJC,QAAAA,IAAI,EAAE,MAAKjB;AAHP,OAAD,CAAL,CAKGkB,IALH,CAKQ,UAAUC,QAAV,EAAoB;AACxBN,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;AACD,OAPH;AASD,K;;UAEDC,Y,GAAe,UAAAd,KAAK,EAAI;AACtB,UAAIe,MAAM,GAAGf,KAAK,CAACG,MAAN,CAAaa,YAAb,CAA0B,cAA1B,CAAb;AACAhB,MAAAA,KAAK,CAACC,cAAN;AACAT,MAAAA,KAAK,CAAC;AACJiB,QAAAA,MAAM,EAAE,QADJ;AAEJC,QAAAA,GAAG,EAAE,gBAAgBK;AAFjB,OAAD,CAAL,CAIGH,IAJH,CAIQ,UAAUC,QAAV,EAAoB;AACxBN,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;AACAI,QAAAA,SAAS;AACV,OAPH;AASD,K;;UAEDA,S,GAAY,YAAM;AAChBnC,MAAAA,GAAG,CAACoC,QAAJ,GACGN,IADH,CACQ,UAAAO,GAAG;AAAA,eAAI,MAAKjB,QAAL,CAAc;AAAEP,UAAAA,KAAK,EAAEwB,GAAG,CAACR;AAAb,SAAd,CAAJ;AAAA,OADX,EAEGS,KAFH,CAES,UAAAC,GAAG;AAAA,eAAId,OAAO,CAACC,GAAR,CAAYa,GAAZ,CAAJ;AAAA,OAFZ;AAGD,K;;;;;;;wCA9CmB;AAClB,WAAKJ,SAAL;AACD;;;6BA8CQ;AAAA;;AACP,aACE,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,YAAY,EAAE,KAAKlB,YAA1B;AAAwC,QAAA,IAAI,EAAC,OAA7C;AAAqD,QAAA,WAAW,EAAC,kBAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,KAAD;AAAO,QAAA,YAAY,EAAE,KAAKA,YAA1B;AAAwC,QAAA,IAAI,EAAC,QAA7C;AAAsD,QAAA,WAAW,EAAC,mBAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,QAAD;AAAU,QAAA,YAAY,EAAE,KAAKA,YAA7B;AAA2C,QAAA,IAAI,EAAC,UAAhD;AAA2D,QAAA,WAAW,EAAC,qBAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAIE,oBAAC,OAAD;AAAS,QAAA,WAAW,EAAE,KAAKO,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJF,CAJF,CADF,EAYE,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CADF,EAIG,KAAKZ,KAAL,CAAWC,KAAX,CAAiB2B,MAAjB,GACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAK5B,KAAL,CAAWC,KAAX,CAAiB4B,GAAjB,CAAqB,UAAAC,IAAI;AAAA,eACxB,oBAAC,QAAD;AAAU,UAAA,GAAG,EAAEA,IAAI,CAACC,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAG,UAAA,IAAI,EAAE,YAAYD,IAAI,CAACC,GAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGD,IAAI,CAAC5B,KADR,UACmB4B,IAAI,CAAC3B,MADxB,CADF,CADF,EAME,oBAAC,SAAD;AAAW,0BAAc2B,IAAI,CAACC,GAA9B;AAAmC,UAAA,OAAO,EAAE,MAAI,CAACX,YAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UANF,CADwB;AAAA,OAAzB,CADH,CADD,GAcG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAlBN,CAZF,CADF,CADF;AAsCD;;;;EA/FiBlC,S;;AAkGpB,eAAea,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport DeleteBtn from \"../components/DeleteBtn\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\nimport axios from \"axios\";\n\nclass Books extends Component {\n  state = {\n    books: [],\n    title: null,\n    author: null,\n    synopsis: null\n  };\n\n  componentDidMount() {\n    this.loadBooks();\n  }\n\n  handleChange = event => {\n    event.preventDefault();\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n    // console.log(event.target.value);\n    // console.log(event.target.name);\n    // console.log(this.state);\n  }\n\n  handleAdd = event => {\n    event.preventDefault();\n    console.log(\"task\");\n    axios({\n      method: 'post',\n      url: '/api/books',\n      data: this.state\n    })\n      .then(function (response) {\n        console.log(response);\n      });\n\n  }\n\n  handleDelete = event => {\n    var bookId = event.target.getAttribute('data-book-id');\n    event.preventDefault();\n    axios({\n      method: 'delete',\n      url: '/api/books/' + bookId\n    })\n      .then(function (response) {\n        console.log(response);\n        loadBooks();\n      });\n\n  }\n\n  loadBooks = () => {\n    API.getBooks()\n      .then(res => this.setState({ books: res.data }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    return (\n      <Container fluid>\n        <Row>\n          <Col size=\"md-6\">\n            <Jumbotron>\n              <h1>What Books Should I Read?</h1>\n            </Jumbotron>\n            <form>\n              <Input handlechange={this.handleChange} name=\"title\" placeholder=\"Title (required)\" />\n              <Input handlechange={this.handleChange} name=\"author\" placeholder=\"Author (required)\" />\n              <TextArea handlechange={this.handleChange} name=\"synopsis\" placeholder=\"Synopsis (Optional)\" />\n              <FormBtn handleclick={this.handleAdd}>Submit Book</FormBtn>\n            </form>\n          </Col>\n          <Col size=\"md-6 sm-12\">\n            <Jumbotron>\n              <h1>Books On My List</h1>\n            </Jumbotron>\n            {this.state.books.length ? (\n              <List>\n                {this.state.books.map(book => (\n                  <ListItem key={book._id}>\n                    <a href={\"/books/\" + book._id}>\n                      <strong>\n                        {book.title} by {book.author}\n                      </strong>\n                    </a>\n                    <DeleteBtn data-book-id={book._id} onClick={this.handleDelete} />\n                  </ListItem>\n                ))}\n              </List>\n            ) : (\n                <h3>No Results to Display</h3>\n              )}\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Books;\n\n\n\n"]},"metadata":{},"sourceType":"module"}